<view class="container">
  <view class="card">
    <view class="row">
      <text class="label">订单号</text>
      <text class="value">{{orderNo}}</text>
    </view>
    <view class="row">
      <text class="label">金额</text>
      <text class="value">¥{{(detail.actualAmount || detail.totalAmount)}}</text>
    </view>
    <view class="row">
      <text class="label">状态</text>
      <text class="status {{paymentStatus}}">{{paymentStatusDesc}}</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="actions" wx:if="{{paymentStatus === 'pending' || paymentStatus === 'paying'}}">
    <button class="btn pay" wx:if="{{paymentStatus === 'pending'}}" bindtap="handlePay">立即支付</button>
    <view wx:if="{{paymentStatus === 'paying'}}">
      <button class="btn pay" bindtap="handleContinuePay">继续支付</button>
      <button class="btn cancel" bindtap="handleCancelPayment">取消支付</button>
    </view>
  </view>

  <!-- 支付加载倒计时遮罩 -->
  <view class="payment-loading-mask" wx:if="{{showPaymentLoading}}">
    <view class="payment-loading-content">
      <view class="loading-spinner"></view>
      <text class="loading-text">确认支付结果... {{paymentLoadingCountdown}}秒</text>
    </view>
  </view>
</view>

