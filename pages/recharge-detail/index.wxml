<view class="page">
  <!-- 基本信息 -->
  <view class="section order-info">
    <view class="section-title">订单信息</view>
    <view class="order-item">
      <text class="label">订单号：</text>
      <text class="value">{{orderNo}}</text>
    </view>
    <view class="order-item">
      <text class="label">订单状态：</text>
      <text class="status {{rechargeStatus}}">{{rechargeStatusDesc}}</text>
    </view>
  </view>

  <!-- 金额信息 -->
  <view class="section amount-info">
    <view class="section-title">金额明细</view>
    <view class="amount-item">
      <text class="label">订单金额：</text>
      <text class="value">¥{{originalAmountStr || amountStr || '0.00'}}</text>
    </view>
    <view class="amount-item" wx:if="{{hasDiscount}}">
      <text class="label">优惠金额：</text>
      <text class="value discount">-¥{{discountAmountStr || '0.00'}}</text>
    </view>
    <view class="amount-item final">
      <text class="label">实付金额：</text>
      <text class="value final-amount">¥{{finalAmountStr || amountStr || '0.00'}}</text>
    </view>
  </view>

  <!-- 操作栏 -->
  <view class="actions-bar" wx:if="{{allowedActions && allowedActions.length > 0}}">
    <button 
      wx:for="{{allowedActions}}" 
      wx:key="*this"
      class="action-btn {{item === 'PAY' || item === 'CONTINUE_PAY' ? 'pay-btn' : 'cancel-btn'}}"
      bindtap="handleAction"
      data-action="{{item}}"
    >
      {{item === 'PAY' ? '立即支付' : item === 'CONTINUE_PAY' ? '继续支付' : item === 'CANCEL' || item === 'CANCEL_WITH_REDIRECT' ? '取消订单' : item}}
    </button>
  </view>
</view>

