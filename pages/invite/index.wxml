<!--pages/invite/index.wxml-->
<view class="invite-page">
  <!-- ä¸ŠåŠéƒ¨åˆ†ï¼šé‚€è¯·å¥–åŠ±ä»‹ç» -->
  <view class="invite-intro">
    <view class="intro-title">é‚€è¯·å¥½å‹ï¼Œè·å¾—å¥–åŠ±</view>
    <view class="intro-content">
      <text>é‚€è¯·å¥½å‹æ³¨å†Œå¹¶å®Œæˆé¦–å•ï¼Œæ‚¨å°†è·å¾—å¥–åŠ±</text>
    </view>
    
    <!-- é‚€è¯·ç å±•ç¤ºåŒºåŸŸ -->
    <view class="invite-code-section">
      <view class="code-label">æˆ‘çš„é‚€è¯·ç ï¼š</view>
      <view class="code-wrapper">
        <text class="code-value">{{referralCode}}</text>
        <view class="copy-btn" bindtap="copyReferralCode">
          <text class="copy-text">å¤åˆ¶</text>
        </view>
      </view>
    </view>
    
    <!-- åˆ†äº«æŒ‰é’® -->
    <button class="share-btn" bindtap="onShareAppMessage">
      <text class="share-text">åˆ†äº«é‚€è¯·</text>
    </button>
  </view>

  <!-- ä¸‹åŠéƒ¨åˆ†ï¼šé‚€è¯·è®°å½•åˆ—è¡¨ -->
  <view class="invite-records">
    <view class="records-title">é‚€è¯·è®°å½•</view>
    
    <scroll-view 
      class="records-list" 
      scroll-y 
      lower-threshold="50"
      bindscrolltolower="loadMore" 
      wx:if="{{recordList.length > 0 || loading}}"
    >
      <view class="record-item" wx:for="{{recordList}}" wx:key="refereeId">
        <view class="record-info">
          <view class="record-name">{{item.refereeNickname || 'ç”¨æˆ·'}}</view>
          <view class="record-phone">{{item.refereePhone || ''}}</view>
        </view>
        <view class="record-status status-{{item.rewardStatusCode}}">
          {{item.rewardStatusText || item.rewardStatus}}
        </view>
      </view>
      
      <!-- åŠ è½½çŠ¶æ€ -->
      <view class="loading-more" wx:if="{{loading}}">
        <text>åŠ è½½ä¸­...</text>
      </view>
      <view class="no-more" wx:if="{{!hasMore && recordList.length > 0}}">
        <text>æ²¡æœ‰æ›´å¤šäº†</text>
      </view>
    </scroll-view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty" wx:if="{{recordList.length === 0 && !loading}}">
      <text class="empty-icon">ğŸ‘¥</text>
      <text class="empty-text">æš‚æ— é‚€è¯·è®°å½•</text>
    </view>
  </view>
</view>
