<view class="withdraw-page" wx:if="{{!loading}}">
  <view class="header">
    <text class="title">余额提现</text>
    <text class="subtitle">仅支持提现到微信零钱</text>
  </view>

  <view class="form">
    <view class="form-item" wx:if="{{balance !== null}}">
      <text class="label">当前余额（元）</text>
      <text class="balance-value">¥{{balanceStr || '0.00'}}</text>
    </view>
    <view class="form-item">
      <text class="label">提现金额（元）</text>
      <view class="selected-amount" wx:if="{{amount}}">
        <text class="selected-amount-text">已选择：¥{{amountStr || amount}}</text>
      </view>
      <view class="selected-amount-placeholder" wx:else>
        <text class="placeholder-text">请选择提现金额</text>
      </view>
    </view>
    <view class="quick-amounts">
      <view 
        wx:for="{{withdrawAmounts}}" 
        wx:key="key" 
        class="amount-btn {{amount == item.key ? 'active' : ''}}" 
        bindtap="onQuickPick" 
        data-val="{{item.value}}"
      >
        ¥{{item.display}}
      </view>
    </view>
    <button class="pay-btn" type="primary" loading="{{submitting}}" disabled="{{!canSubmit || submitting}}" bindtap="onWithdraw">确认提现</button>
  </view>

  <view class="tips">
    <text>· 请从上方选择提现金额</text>
    <text>· 提现后需要确认收款才会到账</text>
    <text>· 24小时内未确认收款将自动退款</text>
  </view>
</view>

<view class="loading" wx:if="{{loading}}">
  <text>加载中...</text>
</view>
