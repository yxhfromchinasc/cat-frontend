<!-- pages/withdraw-operate/index.wxml - 提现操作页（类似支付页） -->
<view class="page" wx:if="{{!loading && withdrawDetail}}">
  <!-- 订单信息 -->
  <view class="section order-info">
    <view class="section-title">订单信息</view>
    <view class="order-item">
      <text class="label">订单号：</text>
      <text class="value">{{orderNo}}</text>
    </view>
    <view class="order-item" wx:if="{{withdrawDetail.withdrawStatusDesc}}">
      <text class="label">订单状态：</text>
      <text class="value status">{{withdrawDetail.withdrawStatusDesc}}</text>
    </view>
  </view>

  <!-- 金额明细 -->
  <view class="section amount-info">
    <view class="section-title">金额明细</view>
    <view class="amount-item">
      <text class="label">提现金额：</text>
      <text class="value">¥{{amountStr || '0.00'}}</text>
    </view>
    <view class="amount-item" wx:if="{{feeStr && feeStr !== '0.00'}}">
      <text class="label">手续费：</text>
      <text class="value">¥{{feeStr || '0.00'}}</text>
    </view>
    <view class="amount-item final">
      <text class="label">实际到账：</text>
      <text class="value final-amount">¥{{actualAmountStr || '0.00'}}</text>
    </view>
  </view>

  <!-- 提示信息 -->
  <view class="section tips-section">
    <view class="section-title">温馨提示</view>
    <view class="tips-item">
      <text class="tips-dot">·</text>
      <text class="tips-text">提现后需要确认收款才会到账</text>
    </view>
    <view class="tips-item">
      <text class="tips-dot">·</text>
      <text class="tips-text">24小时内未确认收款将自动退款</text>
    </view>
  </view>

  <!-- 提现按钮栏 -->
  <view class="payment-bar">
    <view class="payment-summary">
      <view class="summary-main">
        <text class="summary-label">合计：</text>
        <text class="summary-amount">¥{{actualAmountStr || '0.00'}}</text>
      </view>
      <view class="summary-remain" wx:if="{{withdrawDetail && withdrawDetail.withdrawStatus === 2 && transferRemainStr}}">
        <text class="summary-remain-label">剩余：</text>
        <text class="summary-remain-time">{{transferRemainStr}}</text>
      </view>
    </view>
    <button 
      wx:for="{{allowedActions}}" 
      wx:key="*this"
      class="pay-btn {{item === 'WITHDRAW' || item === 'CONTINUE_WITHDRAW' ? 'pay-btn' : 'cancel-btn'}}" 
      bindtap="handleAction"
      data-action="{{item}}"
      disabled="{{submitting && (item === 'WITHDRAW' || item === 'CONTINUE_WITHDRAW')}}" 
      loading="{{submitting && (item === 'WITHDRAW' || item === 'CONTINUE_WITHDRAW')}}"
      style="{{item === 'WITHDRAW' || item === 'CONTINUE_WITHDRAW' ? '' : 'background:#f5f5f5;color:#333;'}}"
    >
      {{item === 'WITHDRAW' ? '发起提现' : item === 'CONTINUE_WITHDRAW' ? '继续提现' : item === 'CANCEL_TRANSFER' ? '取消本次提现' : item === 'CANCEL' || item === 'CANCEL_WITH_REDIRECT' ? '取消订单' : item}}
    </button>
  </view>
</view>

<view class="loading" wx:if="{{loading}}">
  <text>加载中...</text>
</view>

